# Docker Base Images Collection

A curated set of production-ready Docker base images that emphasize:
- ğŸ”’ Security best practices
- ğŸ¯ Consistent environments across teams
- âš¡ Optimized configurations
- ğŸ›  Development workflow efficiency

## Why Use These Base Images?

### For Teams & Organizations
- **Standardization**: Consistent development environments across all projects
- **Security**: Pre-configured with security best practices
- **Maintenance**: Centralized updates and vulnerability patching
- **Onboarding**: Faster developer onboarding with ready-to-use environments

### For Individual Developers
- **Best Practices**: Learn Docker best practices from production-ready examples
- **Time-Saving**: Skip the boilerplate setup for common development environments
- **Flexibility**: Hardware-agnostic designs that work anywhere
- **Modern Tooling**: Up-to-date configurations for modern development

## ğŸš€ Quick Start

1. Clone this repository
2. Choose your base image
3. Start building with confidence

For example:
```yaml
# docker-compose.yml
services:
  app:
    build:
      context: ./python-base
      args:
        # All images support flexible configuration
        PYTHON_VERSION: "3.11"
```
- Consider factors like:
  - Package compatibility
  - Framework requirements
  - Production environment constraints
  - Stability vs new features

### Initial Setup (One-time)

1. Create a directory for your projects (if you don't have one):
```bash
# Windows
mkdir C:\Projects

# Linux/Mac
mkdir ~/Projects
```

2. Clone this base images repository:
```bash
# Windows
cd C:\Projects
git clone https://github.com/jerryagenyi/docker-base-images.git

# Linux/Mac
cd ~/Projects
git clone https://github.com/jerryagenyi/docker-base-images.git
```

### Starting a New Project

Let's say you want to create a new project called "my-awesome-app":

1. Create your project directory:
```bash
# Windows
mkdir C:\Projects\my-awesome-app
cd C:\Projects\my-awesome-app

# Linux/Mac
mkdir ~/Projects/my-awesome-app
cd ~/Projects/my-awesome-app
```

2. Copy the initialization script from the base images repository:
```bash
# Windows PowerShell
Copy-Item ..\docker-base-images\docker-init.ps1 .
./docker-init.ps1 [-Update]

# Linux/Mac
cp ../docker-base-images/docker-init.sh ./
chmod +x docker-init.sh
./docker-init.sh [--update]
```

Your directory structure will look like this:
```
C:\Projects\ (or ~/Projects/)
â”‚
â”œâ”€â”€ docker-base-images/         # Base images repository
â”‚   â”œâ”€â”€ python-base/
â”‚   â”œâ”€â”€ node-base/
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ my-awesome-app/            # Your new project
    â”œâ”€â”€ docker-compose.yaml    # Generated by init script
    â”œâ”€â”€ .env                   # Generated by init script
    â””â”€â”€ your project files...

The initialization script provides:
- âœ¨ Interactive service selection
- ğŸ“ Automatic .env file generation
- ğŸ”„ Optional base image updates (--update flag)
- âš¡ Caddy reverse proxy configuration
- ğŸ” Docker dependency verification
- ğŸ“‹ Best practice examples and guidance

Features:
1. **Interactive Service Selection**
   - Choose which services you need
   - Only selected services are included in your docker-compose.yaml

2. **Environment Configuration**
   - Generates .env file with secure defaults
   - Customizable for your needs

3. **Automatic Updates**
   - Use --update flag to pull latest base images
   - Keeps your development environment current

4. **Caddy Integration**
   - Automatic HTTPS setup
   - Reverse proxy configuration
   - SSL certificate handling

5. **Dependency Checks**
   - Verifies Docker installation
   - Ensures all requirements are met

### Option 2: Manual Setup

1. Clone this repository:
```bash
git clone https://github.com/jerryagenyi/docker-base-images.git
```

2. Navigate to your project directory and reference these base images in your `docker-compose.yaml`:
```yaml
services:
  myapp:
    build:
      context: ../docker-base-images/python-base  # Relative path to base image
      dockerfile: Dockerfile
```

## ğŸ“¦ Available Base Images

### Development Environments

#### ğŸ Python Base
- Base image: `python:3.10`
- Pre-installed packages: pytest, requests, python-dotenv, flask
- Automatically installs project-specific requirements.txt
- Common ports: 8000 (Flask/Django), 8888 (Jupyter)

#### ğŸ“¦ Node.js Base
- Base image: `node:18`
- Automatically installs package.json dependencies
- Default port: 3000

### Data Science & ML

#### ğŸ Miniconda
- Base image: `continuumio/miniconda3`
- Support for environment.yml configuration
- Ideal for data science projects

#### ğŸ”¥ PyTorch
- Base image: `pytorch/pytorch:latest`
- Includes numpy, pandas, scikit-learn
- GPU support ready (configurable)

### Web Servers

#### ğŸŒ Nginx
- Base image: `nginx:latest`
- Port: 80
- Configurable through default.conf

#### ğŸŸ¢ Caddy
- Base image: `caddy:latest`
- Ports: 80, 443
- Automatic HTTPS
- Volume support for data and config

### Database

#### ğŸ˜ PostgreSQL
- Base image: `postgres:latest`
- Port: 5432
- Configurable through environment variables
- Persistent volume support

### Testing

#### ğŸŒ Selenium
- Base image: `selenium/standalone-chrome`
- Ready for browser testing
- Python test script support

## ğŸ”§ Usage

### Directory Structure
```
your-projects/
â”œâ”€â”€ docker-base-images/          # This repository
â”‚   â”œâ”€â”€ python-base/
â”‚   â”œâ”€â”€ node-base/
â”‚   â”œâ”€â”€ miniconda/
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ your-project/               # Your actual project
    â”œâ”€â”€ src/
    â”œâ”€â”€ requirements.txt
    â””â”€â”€ docker-compose.yaml     # References base images
```

### Example Usage

1. **Python Web Application**
```yaml
# your-project/docker-compose.yaml
services:
  webapp:
    build:
      context: ../docker-base-images/python-base
      dockerfile: Dockerfile
    volumes:
      - ./:/app
    ports:
      - "8000:8000"
```

2. **AI Development Environment**
```yaml
services:
  ml-environment:
    build:
      context: ../docker-base-images/pytorch
      dockerfile: Dockerfile
    volumes:
      - ./:/app
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: all
              capabilities: [gpu]
```

### Common Ports Reference

| Service    | Port | Usage                    |
|------------|------|--------------------------|
| Python     | 8000 | Flask/Django/FastAPI     |
| Python     | 8888 | Jupyter Notebooks        |
| Node.js    | 3000 | Express/Next.js          |
| PostgreSQL | 5432 | Database                 |
| Nginx      | 80   | HTTP                     |
| Caddy      | 80   | HTTP                     |
| Caddy      | 443  | HTTPS                   |

## ğŸ”„ Updating Base Images

To update the base images to their latest versions:

```bash
docker-compose build --no-cache
```

## ğŸ“ Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Why Docker?

This repository uses Docker containers for several critical benefits:

1. **Isolation & Dependency Management**
   - Keep project dependencies contained and avoid polluting your global system
   - No need to install Python, Node.js, or other runtimes globally
   - Prevent version conflicts between different projects

2. **Consistency & Reproducibility**
   - Identical development environment across all team members
   - "Works on my machine" becomes "Works in every container"
   - Version-locked dependencies ensure stable builds

3. **Portability & Migration**
   - Easy migration between development machines
   - Seamless deployment to any environment that runs Docker
   - Cloud-ready configuration for quick scaling

4. **Resource Management**
   - Controlled resource allocation per container
   - Easy cleanup - just remove the container
   - Efficient use of system resources

5. **Security**
   - Isolated execution environments
   - Controlled access to system resources
   - Reduced attack surface through containerization

## Project Structure

```
docker-base-images/
â”œâ”€â”€ caddy/                 # Caddy web server with automatic HTTPS
â”‚   â””â”€â”€ Dockerfile         # Base image for Caddy server
â”œâ”€â”€ miniconda/             # Python scientific computing environment
â”‚   â””â”€â”€ Dockerfile         # Base image with Miniconda pre-installed
â”œâ”€â”€ nginx/                 # NGINX web server and reverse proxy
â”‚   â””â”€â”€ Dockerfile         # Base image for NGINX
â”œâ”€â”€ node-base/             # Node.js development environment
â”‚   â””â”€â”€ Dockerfile         # Base image with Node.js and common tools
â”œâ”€â”€ postgres/              # PostgreSQL database server
â”‚   â””â”€â”€ Dockerfile         # Base image for PostgreSQL with common extensions
â”œâ”€â”€ python-base/           # Python development environment
â”‚   â””â”€â”€ Dockerfile         # Base image with configurable Python version
â”œâ”€â”€ pytorch/               # PyTorch for machine learning
â”‚   â””â”€â”€ Dockerfile         # Base image with CUDA support
â”œâ”€â”€ selenium/              # Browser automation and testing
â”‚   â””â”€â”€ Dockerfile         # Base image with Selenium and browsers
â”œâ”€â”€ docs/                  # Project documentation
â”‚   â”œâ”€â”€ blog-post.md       # Blog post about the project and its use cases
â”‚   â”œâ”€â”€ profiles.md        # Documentation for profile configurations
â”‚   â””â”€â”€ project-summary.md # Technical overview and architecture details
â”œâ”€â”€ profiles/              # Pre-configured deployment profiles
â”‚   â”œâ”€â”€ minimal.yaml       # Minimal resource configuration
â”‚   â”œâ”€â”€ standard.yaml      # Standard production configuration
â”‚   â””â”€â”€ full.yaml          # Full-featured development configuration
â”œâ”€â”€ docker-init.sh         # Linux/macOS initialization script
â”œâ”€â”€ docker-init.ps1        # Windows PowerShell initialization script
â”œâ”€â”€ docker-compose.yaml    # Multi-container orchestration
â”œâ”€â”€ .gitignore             # Git ignore patterns
â””â”€â”€ README.md              # Project documentation and getting started guide

```

### Key Components

#### Base Images
Each base image directory contains:
- `Dockerfile` with best practices and common tools
- Optional configuration files and scripts
- Image-specific documentation when needed

#### Documentation (`docs/`)
- `blog-post.md`: Outreach content explaining project benefits and use cases
- `profiles.md`: Detailed explanation of available deployment profiles
- `project-summary.md`: Technical documentation and architecture overview

#### Profiles (`profiles/`)
Pre-configured deployment templates:
- `minimal.yaml`: Lightweight configuration for basic needs
- `standard.yaml`: Balanced setup for most production cases
- `full.yaml`: Complete setup with all features enabled

#### Initialization Scripts
- `docker-init.sh`: Linux/macOS setup script with:
  - Interactive service selection
  - Environment configuration
  - Profile management
  - Update mechanisms
- `docker-init.ps1`: Windows PowerShell equivalent

#### Orchestration
- `docker-compose.yaml`: Main service configuration and orchestration
  - Resource management
  - Network setup
  - Volume configuration
  - Service dependencies

## Design Principles

### Hardware Agnostic Base Images

Our base images are designed to be hardware-agnostic, following these principles:

1. **Flexibility First**: Base images provide fundamental tools and libraries while allowing users to add hardware-specific optimizations.
2. **Extensibility**: Each base image is designed to be easily extended for specific use cases:
   - GPU support (NVIDIA CUDA, AMD ROCm, DirectML)
   - CPU optimizations
   - Special hardware acceleration

### Example: Extending Base Images

For instance, our `pytorch` base image provides common ML/DL dependencies without assuming specific hardware. Users can extend it for their needs:

```dockerfile
# NVIDIA GPU Support
FROM jerryagenyi/pytorch-base
RUN pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

# AMD GPU Support
FROM jerryagenyi/pytorch-base
RUN pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/rocm5.6

# CPU-Only
FROM jerryagenyi/pytorch-base
RUN pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
```

### Benefits of This Approach

1. **Universal Compatibility**: Base images work across different hardware setups
2. **Reduced Maintenance**: No need for multiple hardware-specific base images
3. **Better User Experience**: Users can easily customize for their environment
4. **Smaller Base Images**: Only include what's necessary
5. **Future-Proof**: Easily adaptable to new hardware technologies

## Contributing

The project follows a structured organization to maintain clarity and scalability. When contributing:

1. **Base Images**: Add new images in their own directories with comprehensive Dockerfiles
2. **Documentation**: Update relevant docs in the `docs/` directory
3. **Profiles**: Add new deployment profiles to the `profiles/` directory
4. **Scripts**: Maintain cross-platform compatibility in initialization scripts

See our [Contributing Guide](CONTRIBUTING.md) for detailed guidelines.

## Language-Specific Notes

### Python Environments

The Python base image is version-flexible:
```yaml
services:
  app:
    build:
      context: ../docker-base-images/python-base
      dockerfile: Dockerfile
      args:
        PYTHON_VERSION: "3.11"  # Supports 3.8 through 3.11
```

Key features:
- Configurable Python version
- Common development tools included
- Optimized for both development and production
- Support for poetry, pipenv, or requirements.txt

## Real-World Benefits

### For Development Teams ğŸ‘¥
```bash
# Day 1: New developer joins
git clone your-project
docker-compose up
# Immediate productivity with standardized environment
```

- â±ï¸ Save 2-3 hours per developer on environment setup
- ğŸ”’ Inherit security best practices automatically
- ğŸš€ 30% faster deployment cycles
- ğŸ“ˆ 40% reduction in CI/CD pipeline times

### For DevOps Teams ğŸ› ï¸
```yaml
# Standardized security across projects
services:
  app:
    build: 
      context: ./python-base
      args:
        SECURITY_SCAN: "true"
    security_opt:
      - no-new-privileges:true
```

- ğŸ›¡ï¸ Built-in security configurations
- ğŸ”„ Consistent deployment processes
- ğŸ“Š Resource optimization out of the box
- ğŸ¯ Compliance requirements met by default

### For Open Source Projects ğŸŒ
```dockerfile
# Clear, documented base images
FROM jerryagenyi/python-base:3.11
# Focus on your project, not environment setup
```

- ğŸ¤ Easier contributor onboarding
- ğŸ“š Built-in best practices
- âš¡ Faster PR reviews
- ğŸ” Consistent testing environments

See our [Project Summary](docs/project-summary.md) for detailed analysis and more examples.
